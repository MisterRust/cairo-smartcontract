%lang starknet

from contracts.map.simplex_noise import noise, simplex_noise

@view
func test_noise{range_check_ptr}():
    alloc_locals

    # noise results for :
    # (-10000, -10000), (-13452, -98323), (-456, -33), (-67, 23005), (0, 0), (-1, 0), (1, -1), (1, 1), (5499, 34), (5699, 13765))
    let (noise1) = noise(3618502788666131213697322783095070105623107215331596676914661963998932500481, 3618502788666131213697322783095070105623107215331596676914661963998932500481)
    let (noise2) = noise(3618502788666131213697322783095070105623107215331596668954891896193260978177, 3618502788666131213697322783095070105623107215331596473255689861217841577985)
    let (noise3) = noise(3618502788666131213697322783095070105623107215331596698921627643934427578369, 3618502788666131213697322783095070105623107215331596699896999236831820120065)
    let (noise4) = noise(3618502788666131213697322783095070105623107215331596699818600574518554525697, 53045918426961029365760)
    let (noise5) = noise(0, 0)
    let (noise6) = noise(3618502788666131213697322783095070105623107215331596699970786213126658326529, 0)
    let (noise7) = noise(2305843009213693952, 3618502788666131213697322783095070105623107215331596699970786213126658326529)
    let (noise8) = noise(2305843009213693952, 2305843009213693952)
    let (noise9) = noise(12679830707666103042048, 78398662313265594368)
    let (noise10) = noise(13140999309508841832448, 31739929021826497249280)

    assert noise1 = 3618502788666131213697322783095070105623107215331596699971338465756618286081
    assert noise2 = 3618502788666131213697322783095070105623107215331596699971941568374848278017
    assert noise3 = 158005244615438784
    assert noise4 = 596942002752761600
    assert noise5 = 0
    assert noise6 = 3618502788666131213697322783095070105623107215331596699972749445109243746561
    assert noise7 = 0
    assert noise8 = 3618502788666131213697322783095070105623107215331596699972076867893659321601
    assert noise9 = 3618502788666131213697322783095070105623107215331596699971140784492288036097
    assert noise10 = 3618502788666131213697322783095070105623107215331596699973008701090469988353

    return ()
end

@view
func test_simplex_noise{range_check_ptr}():

    # simplex_noise(-67, 23005, 3, 0.5, 0.005) -> 0.08244919322631697
    let (simplex) = simplex_noise(3618502788666131213697322783095070105623107215331596699818600574518554525697, 53045918426961029365760, 3, 1152921504606846976, 11529215046068470)
    assert simplex = 190114895816212032

    # simplex_noise(0, 0, 4, 0.5, 0.02) -> 0
    let (simplex) = simplex_noise(0, 0, 4, 1152921504606846976, 46116860184273880)
    assert simplex = 0

    # simplex_noise(5699, 13765, 1, 0.5, 0.012) -> -0.6522840681902581
    let (simplex) = simplex_noise(131409993095088418324481, 31739929021826497249280, 1, 1152921504606846976, 27670116110564328)
    assert simplex = 3618502788666131213697322783095070105623107215331596699971587991477214045441

    # simplex_noise(-456, -33, 2, 0.5, 0.1) -> 0.31517554302103895
    let (simplex) = simplex_noise(3618502788666131213697322783095070105623107215331596698921627643934427578369, 3618502788666131213697322783095070105623107215331596699896999236831820120065, 2, 1152921504606846976, 230584300921369408)
    assert simplex = 726745322550192512

    return ()
end